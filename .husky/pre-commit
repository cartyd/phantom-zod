# Check we're not on main branch
echo "ğŸ” Checking current branch..."
CURRENT_BRANCH=$(git branch --show-current)
if [ "$CURRENT_BRANCH" = "main" ]; then
    echo "âŒ ERROR: Cannot commit directly to main branch!"
    echo "ğŸ’¡ Create a feature branch first: git checkout -b feature/your-description"
    exit 1
fi
echo "âœ… On feature branch: $CURRENT_BRANCH"

# Format code first
npm run format

# Run lint-staged for staged files
npx lint-staged

# Run full validation to ensure everything passes
echo "ğŸ§ª Running full validation before commit..."
npm run validate
